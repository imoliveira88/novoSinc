[2024-02-07 20:37:57,899: INFO/MainProcess] Connected to redis://localhost:6379/0
[2024-02-07 20:37:57,904: INFO/MainProcess] mingle: searching for neighbors
[2024-02-07 20:37:58,913: INFO/MainProcess] mingle: all alone
[2024-02-07 20:37:58,928: INFO/MainProcess] celery@76f38dfeab62 ready.
[2024-02-07 20:41:00,010: INFO/MainProcess] Task aplicacao.tasks.envia_notificacoes[2f667742-e2f9-4ba5-a278-dfa0e8e73854] received
[2024-02-07 20:41:00,011: WARNING/ForkPoolWorker-7] Antes da checagem de e-mails a enviar
[2024-02-07 20:42:24,448: WARNING/ForkPoolWorker-7] Dicionário de clientes com faturas próximas a vencer setado
[2024-02-07 20:42:24,449: WARNING/ForkPoolWorker-7] Cliente atual -> {'CODDOC': 'BOL', 'MATRICULA': '199600011', 'CLIENTE': '11', 'TITULO': '800273.GAS', 'EMAIL': 'cur.cabo@gruppomg.com.br', 'ID_CLIENTE': None, 'NOME_CLIENTE': 'INDORAMA VENTURES FIBRAS BRASIL LTDA', 'EMISSAO': '31/01/2024', 'DATA_VENCIMENTO_FATURA': '09/02/2024', 'VALOR_FATURA': '89,852.82', 'ENDERECO': None, 'NUMERO': None, 'IDPERFILFATURAMENTO': None, 'BAIRRO': None, 'CEP': None, 'UF_CLIENTE': 'PE', 'CIDADE_CLIENTE': 'CABO DE SANTO AGOSTINHO', 'TELEFONE': None, 'TIPOTELEFONE': 'CELULAR', 'TEMPO': '30 Dias'}
[2024-02-07 20:42:31,134: INFO/ForkPoolWorker-7] E-mail enviado para cur.cabo@gruppomg.com.br
[2024-02-07 20:42:31,153: ERROR/ForkPoolWorker-7] Task aplicacao.tasks.envia_notificacoes[2f667742-e2f9-4ba5-a278-dfa0e8e73854] raised unexpected: OperationalError('ERRO:  não pôde estender arquivo "base/17187/17617": No space left on device\nHINT:  Verifique o espaço em disco livre.\n')
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/dist-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
psycopg2.errors.DiskFull: ERRO:  não pôde estender arquivo "base/17187/17617": No space left on device
HINT:  Verifique o espaço em disco livre.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/dist-packages/celery/app/trace.py", line 477, in trace_task
    R = retval = fun(*args, **kwargs)
  File "/usr/local/lib/python3.10/dist-packages/celery/app/trace.py", line 760, in __protected_call__
    return self.run(*args, **kwargs)
  File "/app/aplicacao/tasks.py", line 40, in envia_notificacoes
    notificar_clientes(2,clientes)
  File "/app/aplicacao/emails.py", line 114, in notificar_clientes
    notifica_cliente(tag,cliente,0)
  File "/app/aplicacao/emails.py", line 67, in notifica_cliente
    salva_ultima_notificacao(cliente, tag) # Persistirá na tabela de envios independente do status do envio
  File "/app/aplicacao/queries.py", line 93, in salva_ultima_notificacao
    salva_envio(cliente, tag)
  File "/app/aplicacao/queries.py", line 36, in salva_envio
    item.save()
  File "/usr/local/lib/python3.10/dist-packages/django/db/models/base.py", line 814, in save
    self.save_base(
  File "/usr/local/lib/python3.10/dist-packages/django/db/models/base.py", line 877, in save_base
    updated = self._save_table(
  File "/usr/local/lib/python3.10/dist-packages/django/db/models/base.py", line 1020, in _save_table
    results = self._do_insert(
  File "/usr/local/lib/python3.10/dist-packages/django/db/models/base.py", line 1061, in _do_insert
    return manager._insert(
  File "/usr/local/lib/python3.10/dist-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/usr/local/lib/python3.10/dist-packages/django/db/models/query.py", line 1805, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
  File "/usr/local/lib/python3.10/dist-packages/django/db/models/sql/compiler.py", line 1822, in execute_sql
    cursor.execute(sql, params)
  File "/usr/local/lib/python3.10/dist-packages/django/db/backends/utils.py", line 102, in execute
    return super().execute(sql, params)
  File "/usr/local/lib/python3.10/dist-packages/django/db/backends/utils.py", line 67, in execute
    return self._execute_with_wrappers(
  File "/usr/local/lib/python3.10/dist-packages/django/db/backends/utils.py", line 80, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.10/dist-packages/django/db/backends/utils.py", line 84, in _execute
    with self.db.wrap_database_errors:
  File "/usr/local/lib/python3.10/dist-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.10/dist-packages/django/db/backends/utils.py", line 89, in _execute
    return self.cursor.execute(sql, params)
django.db.utils.OperationalError: ERRO:  não pôde estender arquivo "base/17187/17617": No space left on device
HINT:  Verifique o espaço em disco livre.

